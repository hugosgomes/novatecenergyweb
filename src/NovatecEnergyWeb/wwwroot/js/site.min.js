function getFormDataAsJson(){var n=clicado();return{IdLote:$("#lotes").val(),CasaStatus:$("#CasaStatus").val(),IdultMotivo:$("#motivosRejeicao").val(),Dtult:$("#dtult").val(),ClId:$("#clientesCeg").val(),ZId:$("#zonas").val(),DId:$("#delegacoes").val(),AId:$("#areas").val(),StatusId:$("#statusCond").val(),CondId:$("#condominiosId").val(),CondNome:$("#CondNome").val().toString().trim(),Localidade:$("#Localidade").val().toString().trim(),Bairro:$("#Bairro").val().toString().trim(),Logradouro:$("#Logradouro").val().toString().trim(),Numero1:$("#Numero1").val(),Numero2:$("#Numero2").val(),Botao:n}}function clicado(){var n="";return $("#todos").data("clicked")?($("#todos").data("clicked",!1),n="todos",$("#todosli").addClass("disabled"),$("#ativosli").removeClass("disabled"),$("#semLoteTodosli").removeClass("disabled"),$("#semLoteNaoli").removeClass("disabled")):$("#ativos").data("clicked")?($("#ativos").data("clicked",!1),n="ativos",$("#todosli").removeClass("disabled"),$("#ativosli").addClass("disabled"),$("#semLoteTodosli").removeClass("disabled"),$("#semLoteNaoli").removeClass("disabled")):$("#semLoteTodos").data("clicked")?($("#semLoteTodos").data("clicked",!1),n="semLoteTodos",$("#todosli").removeClass("disabled"),$("#ativosli").removeClass("disabled"),$("#semLoteTodosli").addClass("disabled"),$("#semLoteNaoli").removeClass("disabled")):$("#semLoteNao").data("clicked")?($("#semLoteNao").data("clicked",!1),n="semLoteNao",$("#todosli").removeClass("disabled"),$("#ativosli").removeClass("disabled"),$("#semLoteTodosli").removeClass("disabled"),$("#semLoteNaoli").addClass("disabled")):n==""&&($("#todosli").hasClass("disabled")?n="todos":$("#ativosli").hasClass("disabled")?n="ativos":$("#semLoteTodosli").hasClass("disabled")?n="semLoteTodos":$("#semLoteNaoli").hasClass("disabled")&&(n="semLoteNao")),n}function atualizaView(n){tabelaEstatisticas(n);montaPaginacao(n);tabelaLoteAtivos(n)}function montaPaginacao(n){$("#page-selection").unbind();$("#page-selection").bootpag({total:n.QuantasPaginasExistem,page:1,maxVisible:5,firstLastUse:!0,first:"←",last:"→",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first"}).on("page",function(n,t){postPaginacao(t)})}function montaHeadLocal(){$("#headTabelaLote tr").remove();var n=$("<tr/>");n.append('<th class="text-center">Z<\/th>');n.append('<th class="text-center">D<\/th>');n.append('<th class="text-center">AR<\/th>');n.append('<th class="text-center">PT<\/th>');n.append('<th class="text-center">Condomínio<\/th>');n.append('<th class="text-center">Localidade<\/th>');n.append('<th class="text-center">Bairro<\/th>');n.append('<th class="text-center">Via<\/th>');n.append('<th class="text-center">Logradouro<\/th>');n.append('<th class="text-center">Num<\/th>');n.append('<th class="text-center">Comp<\/th>');n.append('<th class="text-center">Bloco<\/th>');n.append('<th class="text-center">Apt<\/th>');n.append('<th class="text-center">ULTMOTIVO<\/th>');n.append('<th class="text-center">AGULT<\/th>');n.append('<th class="text-center">DTULT<\/th>');$("#headTabelaLote").append(n)}function tabelaLoteAtivos(n){var t,i,r;for(montaHeadLocal(),$("#corpoTabelaAtivos tr").remove(),t=[],i=-1,r=0;r<n.EV.length;r++)t[++i]="<tr>",t[++i]="<td>",t[++i]=n.EV[r].z,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].d,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].ar,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].pt,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].condominio,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].localidade,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].bairro,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].via,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].logradouro,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].num,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].complemento,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].bloco,t[++i]="<\/td>",t[++i]="<td>",t[++i]=n.EV[r].apt,t[++i]="<\/td>",n.EV[r].ultMotivo==null?(t[++i]="<td>",t[++i]="<\/td>"):(t[++i]="<td>",t[++i]=n.EV[r].ultMotivo,t[++i]="<\/td>"),n.EV[r].agult==null?(t[++i]="<td>",t[++i]="<\/td>"):(t[++i]="<td>",t[++i]=n.EV[r].agult,t[++i]="<\/td>"),t[++i]="<td>",t[++i]=n.EV[r].dtult,t[++i]="<\/td>",t[++i]="<\/tr>";$("#corpoTabelaAtivos").html(t.join(""))}function tabelaEstatisticas(n){for(var i,t=0;t<n.Numeracoes.length;t++)$("#e"+t).html(n.Numeracoes[t]);for(i=0;i<n.Porcentagens.length;i++)$("#ep"+i).html(n.Porcentagens[i]+"%")}function atualizaSelects(n){var t;for(preencheLotes(n),$("#motivosRejeicao").empty(),$("#zonas").empty(),preencheDelegacao(n),preencheArea(n),$("#statusCond").empty(),preencheCondominio(n),t=0;t<n.MotivosRejeicao.length;t++)$("#motivosRejeicao").append($("<option />").val(n.MotivosRejeicao[t].id).text(n.MotivosRejeicao[t].motivo));for(t=0;t<n.Zonas.length;t++)$("#zonas").append($("<option />").val(n.Zonas[t].id).text(n.Zonas[t].zona));for(t=0;t<n.StatusCondominios.length;t++)$("#statusCond").append($("<option />").val(n.StatusCondominios[t].id).text(n.StatusCondominios[t].item));$("#CasaStatus").prop("selectedIndex",-1);$("#motivosRejeicao").prop("selectedIndex",-1);$("#zonas").prop("selectedIndex",-1);$("#statusCond").prop("selectedIndex",-1);selecionaInfoCliente()}function postCascadeCliente(){var n={};n.cliente=$("#clientesCeg").val();$.post("/Adesao/ClienteCascade",n,atualizaDropsCliente)}function atualizaDropsCliente(n){$("#zonas").empty();$("#delegacoes").empty();$("#areas").empty();$("#lotes").empty();$.each(n.Zonas,function(){$("#zonas").append($("<option />").val(this.id).text(this.zona))});$.each(n.Delegacao,function(){$("#delegacoes").append($("<option />").val(this.id).text(this.delegacao))});$.each(n.Area,function(){$("#areas").append($("<option />").val(this.id).text(this.area))});$.each(n.Lote,function(){var n=$("<p>").html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");$("#lotes").append($("<option />").val(this.id).text(this.loteNum+n.text()+this.ge+n.text()+this.dataLote+n.text()+this.item))});$("#zonas").prop("selectedIndex",-1);$("#delegacoes").prop("selectedIndex",-1);$("#areas").prop("selectedIndex",-1);$("#lotes").prop("selectedIndex",-1)}function atualizaDropsZona(n){preencheDelegacao(n);preencheArea(n);preencheLotes(n);preencheCondominio(n);postToController()}function preencheDelegacao(n){$("#delegacoes").empty();$.each(n.Delegacao,function(){$("#delegacoes").append($("<option />").val(this.id).text(this.delegacao))});$("#delegacoes").prop("selectedIndex",-1)}function preencheArea(n){n.Area.length>0&&($("#areas").empty(),$.each(n.Area,function(){$("#areas").append($("<option />").val(this.id).text(this.area))}),$("#areas").prop("selectedIndex",-1))}function preencheLotes(n){$("#lotes").empty();$.each(n.Lote,function(){var n=$("<p>").html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");$("#lotes").append($("<option />").val(this[0]).text(this[1]+n.text()+this[2]+n.text()+this[3]+n.text()+this[4]))});$("#lotes").prop("selectedIndex",-1)}function preencheCondominio(n){$("#condominiosId").empty();$.each(n.Condominio,function(){var n=$("<p>").html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");$("#condominiosId").append($("<option />").val(this.id).text(this.nome+n.text()+this.num+n.text()+this.complemento+n.text()+this.item+n.text()+this.z+n.text()+this.d))});$("#condominiosId").prop("selectedIndex",-1)}function atualizaDropsDelegacao(n){preencheArea(n);preencheLotes(n);preencheCondominio(n);postToController()}function atualizaDropsArea(n){preencheLotes(n);preencheCondominio(n)}function atualizaDropsStatus(n){preencheCondominio(n);postToController()}$("#lotes").prop("selectedIndex",-1);$("#CasaStatus").prop("selectedIndex",-1);$("#motivosRejeicao").prop("selectedIndex",-1);$("#clientesCeg").prop("selectedIndex",-1);$("#zonas").prop("selectedIndex",-1);$("#delegacoes").prop("selectedIndex",-1);$("#areas").prop("selectedIndex",-1);$("#statusCond").prop("selectedIndex",-1);$("#condominiosId").prop("selectedIndex",-1);$("#dtult").datepicker({format:"dd/mm/yyyy",todayBtn:"linked",language:"pt-BR",orientation:"bottom left"});window.onload=function(){postToController();selecionaInfoCliente()};